<!-- This file was generated by my_mk_html_help.pro -->
<html>
 
<head>
<TITLE>Extended IDL Help</TITLE>
</head>
 
<body>
<H1>Extended IDL Help</H1>
<P>
This page was created by the the modified IDL library routine 
<CODE>my_mk_html_help</CODE>.  For more information on 
this routine, refer to the IDL Online Help Navigator 
or type: <P>
<PRE>     ? mk_html_help</PRE><P>
at the IDL command line prompt.<P>
<STRONG>Last modified: </STRONG>Wed Dec 17 14:56:50 2008.<P>
 
<HR>
 
<A NAME="ROUTINELIST">
<H1>List of Routines</H1></A>
<UL>
<LI><A HREF="#ANEASYPHASERUN01">ANEASYPHASERUN01</A>
<LI><A HREF="#MY_MK_HTML_HELP">MY_MK_HTML_HELP</A>
<LI><A HREF="#PHAADDOPTELEMENT">PHAADDOPTELEMENT</A>
<LI><A HREF="#PHABATCHMODE">PHABATCHMODE</A>
<LI><A HREF="#PHACOPYFIELDFILES">PHACOPYFIELDFILES</A>
<LI><A HREF="#PHAINIT">PHAINIT</A>
<LI><A HREF="#PHALOADEMFIELD">PHALOADEMFIELD</A>
<LI><A HREF="#PHAMODGRIDPOINTS">PHAMODGRIDPOINTS</A>
<LI><A HREF="#PHAMODGRIDSIZEADDZEROS">PHAMODGRIDSIZEADDZEROS</A>
<LI><A HREF="#PHAMODGRIDSIZECUT">PHAMODGRIDSIZECUT</A>
<LI><A HREF="#PHAMOVEFIELDFILES">PHAMOVEFIELDFILES</A>
<LI><A HREF="#PHANEWBEAMLINE">PHANEWBEAMLINE</A>
<LI><A HREF="#PHAPROPFFTFAR">PHAPROPFFTFAR</A>
<LI><A HREF="#PHAPROPFFTNEAR">PHAPROPFFTNEAR</A>
<LI><A HREF="#PHAPROPWFFRESNELKIRCHHOFF">PHAPROPWFFRESNELKIRCHHOFF</A>
<LI><A HREF="#PHAREADBLFILE">PHAREADBLFILE</A>
<LI><A HREF="#PHASAVEEMFIELD">PHASAVEEMFIELD</A>
<LI><A HREF="#PHASETAPERTURES">PHASETAPERTURES</A>
<LI><A HREF="#PHASETCONTROLFLAGS">PHASETCONTROLFLAGS</A>
<LI><A HREF="#PHASETINTEGRATIONPARAMETER">PHASETINTEGRATIONPARAMETER</A>
<LI><A HREF="#PHASETSOURCES">PHASETSOURCES</A>
<LI><A HREF="#PHASRCWFGAUSS">PHASRCWFGAUSS</A>
<LI><A HREF="#PHAWRITEBLFILE">PHAWRITEBLFILE</A>
<LI><A HREF="#READ_EXTR_OUT">READ_EXTR_OUT</A>
<LI><A HREF="#READ_INT_FILE">READ_INT_FILE</A>
<LI><A HREF="#READ_OPTI_OUT">READ_OPTI_OUT</A>
</UL><P>
 
<HR>
 
<H1>Routine Descriptions</H1>
<A NAME="ANEASYPHASERUN01">
<H2>ANEASYPHASERUN01</H2></A>
<A HREF="#MY_MK_HTML_HELP">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	AnEasyPhaseRun01

 PURPOSE:
       a simple example for a phase run ...

 CATEGORY:
	func : pha4idl - examples

 CALLING SEQUENCE:
	beamline = AnEasyPhaseRun01()

 INPUTS:
     	None.

 OUTPUTS:
     	beamline:	pha4idl beamline structure (see phainit_structures.pro)

 KEYWORDS:
	None.

 SIDE EFFECTS:

 RESTRICTIONS:

 MODIFICATION HISTORY:
      March 28, 2008, TL, added help

</PRE><P>
<STRONG>(See <A HREF=phaExamples.pro>phaExamples.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MY_MK_HTML_HELP">
<H2>MY_MK_HTML_HELP</H2></A>
<A HREF="#ANEASYPHASERUN01">[Previous Routine]</A>
<A HREF="#PHAADDOPTELEMENT">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	MY_MK_HTML_HELP

 PURPOSE:
	Given a list of IDL procedure files (.PRO), VMS text library 
       files (.TLB), or directories that contain such files, this procedure 
       generates a file in the HTML format that contains the documentation 
       for those routines that contain a DOC_LIBRARY style documentation 
       template.  The output file is compatible with World Wide Web browsers.

 CATEGORY:
	Help, documentation.

 CALLING SEQUENCE:
	MY_MK_HTML_HELP, Sources, Outfile

 INPUTS:
     Sources:  A string or string array containing the name(s) of the
		.pro or .tlb files (or the names of directories containing 
               such files) for which help is desired.  If a source file is 
               a VMS text library, it must include the .TLB file extension.  
               If a source file is an IDL procedure, it must include the .PRO
               file extension.  All other source files are assumed to be
               directories.
     Outfile:	The name of the output file which will be generated.

 KEYWORDS:
     TITLE:	If present, a string which supplies the name that
		should appear as the Document Title for the help.
     VERBOSE:	Normally, MY_MK_HTML_HELP does its work silently.
		Setting this keyword to a non-zero value causes the procedure
		to issue informational messages that indicate what it
		is currently doing. !QUIET must be 0 for these messages
               to appear.
     STRICT:   If this keyword is set to a non-zero value, MY_MK_HTML_HELP will 
               adhere strictly to the HTML format by scanning the 
               the document headers for characters that are reserved in 
               HTML (<,>,&,").  These are then converted to the appropriate 
               HTML syntax in the output file. By default, this keyword
               is set to zero (to allow for faster processing).

 COMMON BLOCKS:
	None.

 SIDE EFFECTS:
	A help file with the name given by the Outfile argument is
	created.

 RESTRICTIONS:
	The following rules must be followed in formatting the .pro
	files that are to be searched.
		(a) The first line of the documentation block contains
		    only the characters ";+", starting in column 1.
               (b) There must be a line which contains the string "NAME:",
                   which is immediately followed by a line containing the
                   name of the procedure or function being described in
                   that documentation block.  If this NAME field is not
                   present, the name of the source file will be used.
		(c) The last line of the documentation block contains
		    only the characters ";-", starting in column 1.
		(d) Every other line in the documentation block contains
		    a ";" in column 1.

       Note that a single .pro file can contain multiple procedures and/or
       functions, each with their own documentation blocks. If it is desired
       to have "invisible" routines in a file, i.e. routines which are only
       for internal use and should not appear in the help file, simply leave
       out the ";+" and ";-" lines in the documentation block for those
       routines.

	No reformatting of the documentation is done.

 MODIFICATION HISTORY:
       July 5, 1995, DD, RSI. Original version.
       July 13, 1995, Mark Rivers, University of Chicago. Added support for
               multiple source directories and multiple documentation
               headers per .pro file.
       July 17, 1995, DD, RSI. Added code to alphabetize the subjects;
               At the end of each description block in the HTML file,
               added a reference to the source .pro file.
       July 18, 1995, DD, RSI. Added STRICT keyword to handle angle brackets.
       July 19, 1995, DD, RSI. Updated STRICT to handle & and ".
               Changed calling sequence to accept .pro filenames, .tlb
               text librarie names, and/or directory names.
               Added code to set default subject to name of file if NAME
               field is not present in the doc header.
       September 22, 2004 U. Flechsig add link to source code

</PRE><P>
<STRONG>(See <A HREF=updatehelp.pro>updatehelp.pro</A>)</STRONG><P>
<HR>
 
<A NAME="PHAADDOPTELEMENT">
<H2>PHAADDOPTELEMENT</H2></A>
<A HREF="#MY_MK_HTML_HELP">[Previous Routine]</A>
<A HREF="#PHABATCHMODE">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	phaAddOptElement

 PURPOSE:
       Add new optical element to beamline

 CATEGORY:
	pro : pha4idl - beamline

 CALLING SEQUENCE:
	phaAddOptElement, bl, OptElement

 INPUTS:
     	bl:		beamline structure
	OptElement	OptElement structure to added to the beamline

 OUTPUTS:
     	bl:		beamline structure with new opt. element

 KEYWORDS:
	None.

 SIDE EFFECTS:

 RESTRICTIONS:

 MODIFICATION HISTORY:
      March 28, 2008, TL, added help

</PRE><P>
<STRONG>(See <A HREF=phaBeamline.pro>phaBeamline.pro</A>)</STRONG><P>
<HR>
 
<A NAME="PHABATCHMODE">
<H2>PHABATCHMODE</H2></A>
<A HREF="#PHAADDOPTELEMENT">[Previous Routine]</A>
<A HREF="#PHACOPYFIELDFILES">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	phaBatchMode

 PURPOSE:
       Start phase run in batchmode

 CATEGORY:
	pro : pha4idl - run phase

 CALLING SEQUENCE:
	phaBatchMode, BLfile, ResultFile, cmode

 INPUTS:
     	BLfile:		name of the beamlinefile
	ResultFile	prefix for the phase results
			phase adds the following postfixes:
			-ezre, -ezim, -eyre, -eyim  : real and imaginary 
				of the EM-fields with z & y polarizaiton
			-psd  : phase space density

	cmode		calculation mode
			1 : simple raytracing
			2 : full raytracing
			3 : phase space calculations
			4 : footprint (not yet tested)
			5 : multi freq. mode (not yet tested)

 OUTPUTS:
     	ResultFile	results are stored to hdd

 KEYWORDS:
	None.

 SIDE EFFECTS:

 RESTRICTIONS:

 MODIFICATION HISTORY:
      March 28, 2008, TL, added help

</PRE><P>
<STRONG>(See <A HREF=phaBatchmode.pro>phaBatchmode.pro</A>)</STRONG><P>
<HR>
 
<A NAME="PHACOPYFIELDFILES">
<H2>PHACOPYFIELDFILES</H2></A>
<A HREF="#PHABATCHMODE">[Previous Routine]</A>
<A HREF="#PHAINIT">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	phaCopyFieldFiles

 PURPOSE:
       Copy phase field files on hdd

 CATEGORY:
	pro : pha4idl - tools

 CALLING SEQUENCE:
	phaCopyFieldFiles, src, dest

 INPUTS:
     	src		source prefix
     	dest		destination prefix

			phase adds the following postfixes:
			-ezre, -ezim, -eyre, -eyim  : real and imaginary 
				of the EM-fields with z & y polarizaiton

 OUTPUTS:

 KEYWORDS:
	None.

 SIDE EFFECTS:

 RESTRICTIONS:

 MODIFICATION HISTORY:
      March 28, 2008, TL, added help

</PRE><P>
<STRONG>(See <A HREF=phaUsefullTools.pro>phaUsefullTools.pro</A>)</STRONG><P>
<HR>
 
<A NAME="PHAINIT">
<H2>PHAINIT</H2></A>
<A HREF="#PHACOPYFIELDFILES">[Previous Routine]</A>
<A HREF="#PHALOADEMFIELD">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
   phainit

 PURPOSE:
   Initialize the IDL Phase environment.

 CATEGORY:
   	pro : phase init

 CALLING SEQUENCE:
		phainit

 MODIFICATION HISTORY:
      March 28, 2008, TL, added help
</PRE><P>
<STRONG>(See <A HREF=phainit.pro>phainit.pro</A>)</STRONG><P>
<HR>
 
<A NAME="PHALOADEMFIELD">
<H2>PHALOADEMFIELD</H2></A>
<A HREF="#PHAINIT">[Previous Routine]</A>
<A HREF="#PHAMODGRIDPOINTS">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	phaLoadEMField

 PURPOSE:
       Load phasestyle EMFields into beamline

 CATEGORY:
	pro : pha4idl - beamline

 CALLING SEQUENCE:
	phaLoadEMField, bl, MainFileName

 INPUTS:
     	bl		beamline struct
	MainFileName	prefix for the phase EMField files
			phase adds the following postfixes:
			-ezre, -ezim, -eyre, -eyim  : real and imaginary 
				of the EM-fields with z & y polarizaiton

 OUTPUTS:
     	bl		filled beamline struct

 KEYWORDS:
	None.

 SIDE EFFECTS:

 RESTRICTIONS:

 MODIFICATION HISTORY:
      March 28, 2008, TL, added help

</PRE><P>
<STRONG>(See <A HREF=phaLoadEMField.pro>phaLoadEMField.pro</A>)</STRONG><P>
<HR>
 
<A NAME="PHAMODGRIDPOINTS">
<H2>PHAMODGRIDPOINTS</H2></A>
<A HREF="#PHALOADEMFIELD">[Previous Routine]</A>
<A HREF="#PHAMODGRIDSIZEADDZEROS">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	phaModGridPoints

 PURPOSE:
       Changes the number of gridpoints used to describe the EMFields.
		the size of the grid is conserved.

 CATEGORY:
	pro : pha4idl - modify grid

 CALLING SEQUENCE:
	phaModGridPoints,bl,nz2,ny2

 INPUTS:
     	bl:	pha4idl beamline structure (see phainit_structures.pro)
	nz2	new number of gridpoints in z
	ny2	new number of gridpoints in y

 OUTPUTS:
     	bl:	modified pha4idl beamline structure

 KEYWORDS:
	None.

 SIDE EFFECTS:

 RESTRICTIONS:

 MODIFICATION HISTORY:
      March 28, 2008, TL, added help

</PRE><P>
<STRONG>(See <A HREF=phaModGrid.pro>phaModGrid.pro</A>)</STRONG><P>
<HR>
 
<A NAME="PHAMODGRIDSIZEADDZEROS">
<H2>PHAMODGRIDSIZEADDZEROS</H2></A>
<A HREF="#PHAMODGRIDPOINTS">[Previous Routine]</A>
<A HREF="#PHAMODGRIDSIZECUT">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	phaModGridSizeAddZeros

 PURPOSE:
       Adds a rim of zeros to the grid

 CATEGORY:
	pro : pha4idl - modify grid

 CALLING SEQUENCE:
	phaModGridSizeAddZeros,source4,nz2,ny2

 INPUTS:
     	bl:	pha4idl beamline structure (see phainit_structures.pro)
	nz2	new number of gridpoints in z
	ny2	new number of gridpoints in y

 OUTPUTS:
     	bl:	modified pha4idl beamline structure

 KEYWORDS:
	None.

 SIDE EFFECTS:

 RESTRICTIONS:
	nz2 and ny2 have to be bigger than their original values

 MODIFICATION HISTORY:
      March 28, 2008, TL, added help

</PRE><P>
<STRONG>(See <A HREF=phaModGrid.pro>phaModGrid.pro</A>)</STRONG><P>
<HR>
 
<A NAME="PHAMODGRIDSIZECUT">
<H2>PHAMODGRIDSIZECUT</H2></A>
<A HREF="#PHAMODGRIDSIZEADDZEROS">[Previous Routine]</A>
<A HREF="#PHAMOVEFIELDFILES">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	phaModGridSizeCut

 PURPOSE:
       Cuts the grid, reducing the size and the number of points.

 CATEGORY:
	pro : pha4idl - modify grid

 CALLING SEQUENCE:
	phaModGridSizeCut,bl,nzmin,nzmax,nymin,nymax

 INPUTS:
     	bl:	pha4idl beamline structure (see phainit_structures.pro)
	nzmin	lower edge to be cut in z
	nzmax	upper edge to be cut in z
	nymin	lower edge to be cut in y
	nymax	upper edge to be cut in y

 OUTPUTS:
     	bl:	modified pha4idl beamline structure

 KEYWORDS:
	None.

 SIDE EFFECTS:

 RESTRICTIONS:

 MODIFICATION HISTORY:
      March 28, 2008, TL, added help

</PRE><P>
<STRONG>(See <A HREF=phaModGrid.pro>phaModGrid.pro</A>)</STRONG><P>
<HR>
 
<A NAME="PHAMOVEFIELDFILES">
<H2>PHAMOVEFIELDFILES</H2></A>
<A HREF="#PHAMODGRIDSIZECUT">[Previous Routine]</A>
<A HREF="#PHANEWBEAMLINE">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	phaMoveFieldFiles

 PURPOSE:
       Move phase field files on hdd

 CATEGORY:
	pro : pha4idl - tools

 CALLING SEQUENCE:
	phaMoveFieldFiles, src, dest

 INPUTS:
     	src		source prefix
     	dest		destination prefix

			phase adds the following postfixes:
			-ezre, -ezim, -eyre, -eyim  : real and imaginary 
				of the EM-fields with z & y polarizaiton

 OUTPUTS:

 KEYWORDS:
	None.

 SIDE EFFECTS:

 RESTRICTIONS:

 MODIFICATION HISTORY:
      March 28, 2008, TL, added help

</PRE><P>
<STRONG>(See <A HREF=phaUsefullTools.pro>phaUsefullTools.pro</A>)</STRONG><P>
<HR>
 
<A NAME="PHANEWBEAMLINE">
<H2>PHANEWBEAMLINE</H2></A>
<A HREF="#PHAMOVEFIELDFILES">[Previous Routine]</A>
<A HREF="#PHAPROPFFTFAR">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	phaNewBeamline

 PURPOSE:
       Init new beamline structure

 CATEGORY:
	func : pha4idl - beamline

 CALLING SEQUENCE:
	beamline = phaNewBeamline(blfname)

 INPUTS:
     	blfname:	name of the beamline(-file)

 OUTPUTS:
     	beamline:	pha4idl beamline structure (see phainit_structures.pro)

 KEYWORDS:
	None.

 SIDE EFFECTS:

 RESTRICTIONS:

 MODIFICATION HISTORY:
      March 28, 2008, TL, added help

</PRE><P>
<STRONG>(See <A HREF=phaBeamline.pro>phaBeamline.pro</A>)</STRONG><P>
<HR>
 
<A NAME="PHAPROPFFTFAR">
<H2>PHAPROPFFTFAR</H2></A>
<A HREF="#PHANEWBEAMLINE">[Previous Routine]</A>
<A HREF="#PHAPROPFFTNEAR">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	phaPropFFTfar

 PURPOSE:
       Propagate the fields in a pha4idl beamline structure 
	with a farfield fourier propagator.

 CATEGORY:
	pro : pha4idl - Free space propagator

 CALLING SEQUENCE:
	phaPropFFTfar, beam, distance

 INPUTS:
     	beam:		struct Source4 containing EM fields to propagate
     	distance:	propagation distance [mm]

 OUTPUTS:
     	beam:		initial fields are overwritten with the new values


 KEYWORDS:
	None.

 SIDE EFFECTS:

 RESTRICTIONS:
       'libphase4idl.so' required! 
       see also 'phainit.pro' -> '!phalib' must be defined correctly

 MODIFICATION HISTORY:
      March 7, 2008, TL, added help

</PRE><P>
<STRONG>(See <A HREF=phaPropagation.pro>phaPropagation.pro</A>)</STRONG><P>
<HR>
 
<A NAME="PHAPROPFFTNEAR">
<H2>PHAPROPFFTNEAR</H2></A>
<A HREF="#PHAPROPFFTFAR">[Previous Routine]</A>
<A HREF="#PHAPROPWFFRESNELKIRCHHOFF">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	phaPropFFTnear

 PURPOSE:
       Propagate the fields in a pha4idl beamline structure 
	with a nearfield fourier propagator.

 CATEGORY:
	pro : pha4idl - Free space propagator

 CALLING SEQUENCE:
	phaPropFFTnear, beam, distance	 

 INPUTS:
     	beam:		struct Source4 containing EM fields to propagate
     	distance:	propagation distance [mm]

 OUTPUTS:
     	beam:		initial fields are overwritten with the new values


 KEYWORDS:
	None.

 SIDE EFFECTS:

 RESTRICTIONS:
       'libphase4idl.so' required! 
       see also 'phainit.pro' -> '!phalib' must be defined correctly

 MODIFICATION HISTORY:
      March 7, 2008, TL, added help

</PRE><P>
<STRONG>(See <A HREF=phaPropagation.pro>phaPropagation.pro</A>)</STRONG><P>
<HR>
 
<A NAME="PHAPROPWFFRESNELKIRCHHOFF">
<H2>PHAPROPWFFRESNELKIRCHHOFF</H2></A>
<A HREF="#PHAPROPFFTNEAR">[Previous Routine]</A>
<A HREF="#PHAREADBLFILE">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	phaPropWFFresnelKirchhoff

 PURPOSE:
       Propagate the fields in a pha4idl beamline structure 
	with the Fresnel-Kirchhoff integration method.

 CATEGORY:
	pro : pha4idl - Free space propagator

 CALLING SEQUENCE:
	phaPropWFFresnelKirchhoff, beam, distance, nz2, zmin2, zmax2, ny2, ymin2, ymax2 

 INPUTS:
     	beam:		struct Source4 containing EM fields to propagate
     	distance:	propagation distance [mm]

	nz2:		imageplane: number of gridpoints in z-direction
	zmin2:		imageplane: lower border in z-direction [mm]
	zmax2:		imageplane: upper border in z-direction [mm]

	ny2:		imageplane: number of gridpoints in y-direction
	ymin2:		imageplane: lower border in y-direction [mm]
	ymax2:		imageplane: upper border in y-direction [mm]

 OUTPUTS:
     	beam:		initial fields are overwritten with the new values


 KEYWORDS:
	None.

 SIDE EFFECTS:

 RESTRICTIONS:
       'libphase4idl.so' required! 
       see also 'phainit.pro' -> '!phalib' must be defined correctly

 MODIFICATION HISTORY:
      March 7, 2008, TL, added help

</PRE><P>
<STRONG>(See <A HREF=phaPropagation.pro>phaPropagation.pro</A>)</STRONG><P>
<HR>
 
<A NAME="PHAREADBLFILE">
<H2>PHAREADBLFILE</H2></A>
<A HREF="#PHAPROPWFFRESNELKIRCHHOFF">[Previous Routine]</A>
<A HREF="#PHASAVEEMFIELD">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	phaReadBLFile

 PURPOSE:
       Read beamline from file

 CATEGORY:
	func : pha4idl - beamline

 CALLING SEQUENCE:
	beamline = phaReadBLFile(blfname)

 INPUTS:
     	blfname:	name of the beamlinefile

 OUTPUTS:
     	beamline:	pha4idl beamline structure (see phainit_structures.pro)

 KEYWORDS:
	None.

 SIDE EFFECTS:

 RESTRICTIONS:

 MODIFICATION HISTORY:
      March 28, 2008, TL, added help

</PRE><P>
<STRONG>(See <A HREF=phaBeamline.pro>phaBeamline.pro</A>)</STRONG><P>
<HR>
 
<A NAME="PHASAVEEMFIELD">
<H2>PHASAVEEMFIELD</H2></A>
<A HREF="#PHAREADBLFILE">[Previous Routine]</A>
<A HREF="#PHASETAPERTURES">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	phaSaveEMField

 PURPOSE:
       Save phasestyle EMFields from beamline

 CATEGORY:
	pro : pha4idl - beamline

 CALLING SEQUENCE:
	phaSaveEMField, bl, MainFileName

 INPUTS:
     	bl		beamline struct
	MainFileName	prefix for the phase EMField files
			phase adds the following postfixes:
			-ezre, -ezim, -eyre, -eyim  : real and imaginary 
				of the EM-fields with z & y polarizaiton

 OUTPUTS:
     	phase style EMField files on hdd

 KEYWORDS:
	None.

 SIDE EFFECTS:

 RESTRICTIONS:

 MODIFICATION HISTORY:
      March 28, 2008, TL, added help

</PRE><P>
<STRONG>(See <A HREF=phaSaveEMField.pro>phaSaveEMField.pro</A>)</STRONG><P>
<HR>
 
<A NAME="PHASETAPERTURES">
<H2>PHASETAPERTURES</H2></A>
<A HREF="#PHASAVEEMFIELD">[Previous Routine]</A>
<A HREF="#PHASETCONTROLFLAGS">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	phaSetApertures

 PURPOSE:
       Set apertures for the phase run

 CATEGORY:
	pro : pha4idl - beamline options

 CALLING SEQUENCE:
	phaSetApertures, bl , $
	srcymin, srcymax, srczmin, srczmax, rpin, $
	ymin_ap, ymax_ap, zmin_ap, zmax_ap, rpin_ap

 INPUTS:
	bl		pha4idl beamline structure
	srcymin
	srcymax
	srczmin
	srczmax
	rpin
	ymin_ap
	ymax_ap
	zmin_ap
	zmax_ap
	rpin_ap

 OUTPUTS:
     	bl:		pha4idl beamline structure with new options

 KEYWORDS:
	None.

 SIDE EFFECTS:

 RESTRICTIONS:

 MODIFICATION HISTORY:
      March 28, 2008, TL, added help

</PRE><P>
<STRONG>(See <A HREF=phaSetBeamlineOptions.pro>phaSetBeamlineOptions.pro</A>)</STRONG><P>
<HR>
 
<A NAME="PHASETCONTROLFLAGS">
<H2>PHASETCONTROLFLAGS</H2></A>
<A HREF="#PHASETAPERTURES">[Previous Routine]</A>
<A HREF="#PHASETINTEGRATIONPARAMETER">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	phaSetControlFlags

 PURPOSE:
       Set various control flags for the phase run

 CATEGORY:
	pro : pha4idl - beamline options

 CALLING SEQUENCE:
	phaSetControlFlags, bl ,$
	iord, iordsc, iexpand, iplmode, ibright, ispline,$
	inorm, inorm1, inorm2, matrel, igrating, ipinarr

 INPUTS:
	bl		pha4idl beamline structure
	iord
	iordsc
	iexpand
	iplmode
	ibright
	ispline
	inorm
	inorm1
	inorm2
	matrel
	igrating
	ipinarr

 OUTPUTS:
     	bl:		pha4idl beamline structure with new options

 KEYWORDS:
	None.

 SIDE EFFECTS:

 RESTRICTIONS:

 MODIFICATION HISTORY:
      March 28, 2008, TL, added help

</PRE><P>
<STRONG>(See <A HREF=phaSetBeamlineOptions.pro>phaSetBeamlineOptions.pro</A>)</STRONG><P>
<HR>
 
<A NAME="PHASETINTEGRATIONPARAMETER">
<H2>PHASETINTEGRATIONPARAMETER</H2></A>
<A HREF="#PHASETCONTROLFLAGS">[Previous Routine]</A>
<A HREF="#PHASETSOURCES">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	phaSetIntegrationParameter

 PURPOSE:
       Set integration parameter for the phase run

 CATEGORY:
	pro : pha4idl - beamline options

 CALLING SEQUENCE:
	phaSetIntegrationParameter, bl , $
	distfocy, distfocz, ianzy0, ymin, ymax , ianzz0  , zmin ,zmax ,$
	d12_max , iamp_smooth  ,iord_amp  ,iord_pha ,$
	ifm_amp  ,ifm_pha  ,id12  ,ianz0_cal  ,ianz0_fixed

 INPUTS:
	bl		pha4idl beamline structure
	distfocy
	distfocz
	ianzy0
	ymin
	ymax
	ianzz0
	zmin
	zmax
	d12_max
	iamp_smooth
	iord_amp
	iord_pha
	ifm_amp
	ifm_pha
	id12
	ianz0_cal
	ianz0_fixed

 OUTPUTS:
     	bl:		pha4idl beamline structure with new options

 KEYWORDS:
	None.

 SIDE EFFECTS:

 RESTRICTIONS:

 MODIFICATION HISTORY:
      March 28, 2008, TL, added help

</PRE><P>
<STRONG>(See <A HREF=phaSetBeamlineOptions.pro>phaSetBeamlineOptions.pro</A>)</STRONG><P>
<HR>
 
<A NAME="PHASETSOURCES">
<H2>PHASETSOURCES</H2></A>
<A HREF="#PHASETINTEGRATIONPARAMETER">[Previous Routine]</A>
<A HREF="#PHASRCWFGAUSS">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	phaSetSrcPhaseSpace

 PURPOSE:
       Set phase space src internal grid for source from file


 CATEGORY:
	pro : pha4idl - beamline/calculation options

 CALLING SEQUENCE:
	phaSetSrcPhaseSpace, bl, iy, ymin, ymax, iz, zmin, zmax

 INPUTS:
	bl		pha4idl beamline structure
	iy		no. grid points in y
	ymin		lower border in y
	ymax		upper border in y
	iz		no. grid points in z
	zmin		lower border in z
	zmax		upper border in z

 OUTPUTS:
     	bl:		pha4idl beamline structure with new options

 KEYWORDS:
	None.

 SIDE EFFECTS:

 RESTRICTIONS:

 MODIFICATION HISTORY:
      March 28, 2008, TL, added help

l.SourceType=byte('I')
l.PSImage.iy=iy
l.PSImage.ymin=ymin
l.PSImage.ymax=ymax
l.PSImage.iz=iz
l.PSImage.zmin=zmin
l.PSImage.zmax=zmax
ND
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
PRO phaSetSrcUndulator, bl,

END
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
RO phaSetPSsource, bl  ,isrctype $
isrcy,isrcdy,sigmay,sigmayp,isrcz,isrcdz,sigmaz,sigmazp $ ; so1 stuff
dipcy,dipcz,dipdisy,dipdisz $ ; so5 stuff
pin_yl0,pin_yl,pin_zl0,pin_zl ; other
+
 NAME:
	phaSetPSsource

 PURPOSE:
       Set phase space source type and parameter ????????????????????
 ?????????????????????ßß
	not needed if source fields from file or idl are used


 CATEGORY:
	pro : pha4idl - beamline options

 CALLING SEQUENCE:
	phaSetPSsource, bl  ,isrctype $
	,isrcy,isrcdy,sigmay,sigmayp,isrcz,isrcdz,sigmaz,sigmazp $ ; so1 stuff
	,dipcy,dipcz,dipdisy,dipdisz $ ; so5 stuff
	,pin_yl0,pin_yl,pin_zl0,pin_zl ; other

 INPUTS:
	bl		pha4idl beamline structure
	isrctype
	isrcy
	isrcdy
	sigmay
	sigmayp
	isrcz
	isrcdz
	sigmaz
	sigmazp
	dipcy
	dipcz
	dipdisy
	dipdisz
	pin_yl0
	pin_yl
	pin_zl0
	pin_zl

 OUTPUTS:
     	bl:		pha4idl beamline structure with new options

 KEYWORDS:
	None.

 SIDE EFFECTS:

 RESTRICTIONS:

 MODIFICATION HISTORY:
      March 28, 2008, TL, added help

 TODO:
	setup defines for the different sourcetypes
	 (like for the opt.elements in phainit_defines.pro, numbers to be found in phase.h)
 	purpose unclear
</PRE><P>
<STRONG>(See <A HREF=phaSetSources.pro>phaSetSources.pro</A>)</STRONG><P>
<HR>
 
<A NAME="PHASRCWFGAUSS">
<H2>PHASRCWFGAUSS</H2></A>
<A HREF="#PHASETSOURCES">[Previous Routine]</A>
<A HREF="#PHAWRITEBLFILE">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	beispiel

unction phaSrcWFGauss, ianzz, zmin, zmax, $
		ianzy, ymin, ymax, $
                       w0  , deltax, xlam, $
                       ez0, ey0, dphi_zy
+
 NAME:
	phaSrcWFGauss

 PURPOSE:
       Fill struct src4 with gaussian EMfield distribution
	z and y polarized components are created

	Ez = gauss(...) * ez0
	Ey = gauss(...) * ey0 * expi(dphi_zy)

	Ditribution is allways normalized to 1

 CATEGORY:
	func : pha4idl - create src4

 CALLING SEQUENCE:
	src4struct = phaSrcWFGauss( ianzz, zmin, zmax, $
				    ianzy, ymin, ymax, $
       	                    w0   , zfoc, xlam, $
               	            ez0, ey0, dphi_zy )

        e.g: IDL> beam0=phaSrcWFGauss(128,-1,1,128,-1,1,0.2,0,20,1,0,0)
	      for a completely z polarized field, 

 INPUTS:
	ianzz		no. of gridpoints in z direction
	zmin		lower border in z [mm]
	zmax		upper border in z [mm]
	ianzy		no. of gridpoints in y direction
	ymin		lower border in y [mm]
	ymax		upper border in y [mm]
	w0		waist of the beam in the focus / focal spotsize [mm]
	zfoc		distance of focus in direction of propagation [mm]
	xlam		wavelenght in [nm]
	ez0		scaling paramter for Ez
	ey0		scaling paramter for Ey
	dphi_zy		phase beetwen Ez and Ey [rad]

 OUTPUTS:
     	src4struct	struct source4 
			(eg struct beamline.src.so4)

 KEYWORDS:
	None.

 SIDE EFFECTS:

 RESTRICTIONS:

 MODIFICATION HISTORY:
      March 28, 2008, TL, added help

</PRE><P>
<STRONG>(See <A HREF=phaSrcWFGauss.pro>phaSrcWFGauss.pro</A>)</STRONG><P>
<HR>
 
<A NAME="PHAWRITEBLFILE">
<H2>PHAWRITEBLFILE</H2></A>
<A HREF="#PHASRCWFGAUSS">[Previous Routine]</A>
<A HREF="#READ_EXTR_OUT">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
	phaWriteBLFile

 PURPOSE:
       Write beamline to file

 CATEGORY:
	pro : pha4idl - beamline

 CALLING SEQUENCE:
	beamline = phaWriteBLFile(blfname)

 INPUTS:
     	blfname:	name of the beamlinefile

 OUTPUTS:
     	beamlinefile on hdd named 'blfname'

 KEYWORDS:
	None.

 SIDE EFFECTS:

 RESTRICTIONS:

 MODIFICATION HISTORY:
      March 28, 2008, TL, added help

</PRE><P>
<STRONG>(See <A HREF=phaBeamline.pro>phaBeamline.pro</A>)</STRONG><P>
<HR>
 
<A NAME="READ_EXTR_OUT">
<H2>READ_EXTR_OUT</H2></A>
<A HREF="#PHAWRITEBLFILE">[Previous Routine]</A>
<A HREF="#READ_INT_FILE">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
   read_extr_out


 PURPOSE:
   read out an output file from phaseopti 


 CATEGORY:
   phase


 CALLING SEQUENCE:
   read_extr_out, fname


 INPUTS:
   filename


 OPTIONAL INPUTS:



 KEYWORD PARAMETERS:
   /all      : plot all columns
   column: the column to plot, default is 1
   /grid     : automatic zone
   /noplot

 OUTPUTS:



 OPTIONAL OUTPUTS:
   output array


 COMMON BLOCKS:



 SIDE EFFECTS:



 RESTRICTIONS:



 PROCEDURE:



 EXAMPLE:



 MODIFICATION HISTORY:
   UF Jan 08
</PRE><P>
<STRONG>(See <A HREF=read_extr_out.pro>read_extr_out.pro</A>)</STRONG><P>
<HR>
 
<A NAME="READ_INT_FILE">
<H2>READ_INT_FILE</H2></A>
<A HREF="#READ_EXTR_OUT">[Previous Routine]</A>
<A HREF="#READ_OPTI_OUT">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
   read_int_file


 PURPOSE:
   read out the a simp or sint file. simp is the integrand and sint
   the integral. 


 CATEGORY:
   phase


 CALLING SEQUENCE:
   read_int_file, fname


 INPUTS:
   filename


 OPTIONAL INPUTS:



 KEYWORD PARAMETERS:
   /all      : plot all columns
   column: the column to plot, default is 1
   /grid     : automatic zone
   /noplot

 OUTPUTS:



 OPTIONAL OUTPUTS:
   output array


 COMMON BLOCKS:



 SIDE EFFECTS:



 RESTRICTIONS:



 PROCEDURE:



 EXAMPLE:



 MODIFICATION HISTORY:
   UF Jan 08
</PRE><P>
<STRONG>(See <A HREF=read_int_file.pro>read_int_file.pro</A>)</STRONG><P>
<HR>
 
<A NAME="READ_OPTI_OUT">
<H2>READ_OPTI_OUT</H2></A>
<A HREF="#READ_INT_FILE">[Previous Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 NAME:
   read_opti_out


 PURPOSE:
   read out an output file from phaseopti 


 CATEGORY:
   phase


 CALLING SEQUENCE:
   read_opti_out, fname


 INPUTS:
   filename


 OPTIONAL INPUTS:



 KEYWORD PARAMETERS:
   /all      : plot all columns
   column    : the column to plot, default is 1
   /grid     : automatic zone
   /noplot

 OUTPUTS:



 OPTIONAL OUTPUTS:
   output array


 COMMON BLOCKS:



 SIDE EFFECTS:



 RESTRICTIONS:



 PROCEDURE:



 EXAMPLE:



 MODIFICATION HISTORY:
   UF Jan 08
</PRE><P>
<STRONG>(See <A HREF=read_opti_out.pro>read_opti_out.pro</A>)</STRONG><P>
<HR>
 
</body>
</html>
